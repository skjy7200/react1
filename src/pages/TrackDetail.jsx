import React, { useState } from "react";
import { useParams, useNavigate, useLocation } from "react-router-dom";
import "../App.css";

// íŠ¸ë™ë³„ ê³¼ëª© ë°ì´í„° 
const trackCourses = {
  "ì¸ê³µì§€ëŠ¥ ì‹œìŠ¤í…œ": [
    "K-MOOC: ëª¨ë‘ë¥¼ ìœ„í•œ ë¨¸ì‹ ëŸ¬ë‹", "K-MOOC: ìƒì„±í˜• ì¸ê³µì§€ëŠ¥ ì…ë¬¸", "ì¸ê³µì§€ëŠ¥", "íŒ¨í„´ì¸ì‹",
    "Human-AI Interaction", "ì§€ëŠ¥í˜• ì •ë³´ê²€ìƒ‰", "ì¸ê³µì§€ëŠ¥ì‹œìŠ¤í…œ", "ì§€ëŠ¥í˜•ì•±í”„ë¡œê·¸ë˜ë°", "ê°•í™”í•™ìŠµ", "ìì—°ì–´ì²˜ë¦¬",
    "ê³ ì„±ëŠ¥ì¸ê³µì§€ëŠ¥í”„ë¡œê·¸ë˜ë°", "ë”¥ëŸ¬ë‹"
  ],
  "ë©”íƒ€ë²„ìŠ¤ í”Œë«í¼": [
    "K-MOOC: ë©€í‹°ë¯¸ë””ì–´", "ì»´í“¨í„°ê·¸ë˜í”½ìŠ¤", "ë””ì§€í„¸ì‹ í˜¸ì²˜ë¦¬", "ê°€ìƒí˜„ì‹¤", "ì˜ìƒì²˜ë¦¬",
    "Human-AI Interaction", "ì›¹ê¸°ë°˜ì‹œìŠ¤í…œ", "ë©€í‹°ì½”ì–´í”„ë¡œê·¸ë˜ë°", "ì»´í“¨í„°ë¹„ì „", "ë©”íƒ€ë²„ìŠ¤ì‹œìŠ¤í…œ", "ë©”íƒ€ë²„ìŠ¤ë°ì´í„°ì²˜ë¦¬", "ë¸”ë¡ì²´ì¸"
  ],
  "í´ë¼ìš°ë“œ ì»´í“¨íŒ…": [
    "ì›¹í”„ë¡œê·¸ë˜ë°", "ë¬¸ì œí•´ê²°ë°ì‹¤ìŠµ:JAVA", "ìš´ì˜ì²´ì œ", "ë°ì´í„°ë² ì´ìŠ¤", "ì»´í“¨í„°ë„¤íŠ¸ì›Œí¬",
    "ë¦¬ëˆ…ìŠ¤í”„ë¡œê·¸ë˜ë°ë°ì‹¤ìŠµ", "ì›¹ê¸°ë°˜ì‹œìŠ¤í…œ", "XMLí”„ë¡œê·¸ë˜ë°", "ë¬´ì„ í†µì‹ ", "ì •ë³´ë³´í˜¸ê°œë¡ ",
    "ì§€ëŠ¥í˜•ë„¤íŠ¸ì›Œí¬í”„ë¡œê·¸ë˜ë°", "AIë„¤íŠ¸ì›Œí‚¹"
  ],
  "ê³µê°„ë¹„ì£¼ì–¼ SW": [
    "ë””ì§€í„¸ì´ë¯¸ì§€í”„ë¡œê·¸ë˜ë°", "ì¼ë°˜ë¬¼ë¦¬ë°ì‹œë®¬ë ˆì´ì…˜", "ì‹¤ì‹œê°„ì»´í“¨í„°ê·¸ë˜í”½ìŠ¤", "ì‘ìš©ìˆ˜ì¹˜í•´ì„ë°ì‹œê°í™”",
    "ì‹¤ì„¸ê³„ëª¨ë¸ë§ë°ë Œë”ë§", "ì»´í“¨í„°ì• ë‹ˆë©”ì´ì…˜", "ë”¥ëŸ¬ë‹ê°œë¡ ", "ê°€ìƒí˜„ì‹¤", "ì»´í“¨í„°ë¹„ì „ë°ì‹¤ìŠµ", "ìƒì„±í˜•AI", "ë””ì§€í„¸íŠ¸ìœˆ", "ì¦ê°•í˜„ì‹¤"
  ],
  "ì¸í„°ë™í‹°ë¸Œ í”Œë«í¼": [
    "ê°ì²´ì§€í–¥í”„ë¡œê·¸ë˜ë°:C++", "ê°ì²´ì§€í–¥í”„ë¡œê·¸ë˜ë°:JAVA", "ì‹¤ì‹œê°„ì»´í“¨í„°ê·¸ë˜í”½ìŠ¤", "ê°ì²´ì§€í–¥XRí”„ë¡œê·¸ë˜ë°", "XRì—”ì§„ê°œë¡ ",
    "ì›¹ê¸°ë°˜í”„ë¡œê·¸ë˜ë°", "ë”¥ëŸ¬ë‹ê°œë¡ ", "ìŒì„±ë°ì˜¤ë””ì˜¤ì²˜ë¦¬", "ìƒì„±í˜•AI", "UI/UXë””ìì¸ê°œë¡ ", "ë©”íƒ€ë²„ìŠ¤ì‹œìŠ¤í…œ", "HCI"
  ],
  "ì§€ëŠ¥í˜• ì—ì´ì „íŠ¸": [
    "ê¸°ê³„í•™ìŠµê°œë¡ ", "ê³ ê¸‰ì¸ê³µì§€ëŠ¥í™œìš©", "ì›¹í”„ë¡œê·¸ë˜ë°", "ë”¥ëŸ¬ë‹ì‹¤ìŠµ", "ë”¥ëŸ¬ë‹ê°œë¡ ",
    "ì‹œê³„ì—´ë¶„ì„", "íŒ¨í„´ì¸ì‹", "ìì—°ì–´ì²˜ë¦¬", "ê°•í™”í•™ìŠµ", "ì¸ê³µì§€ëŠ¥ë¬¸ì œí•´ê²°ë°ì‹¤ìŠµ"
  ],
  "AI ì½˜í…ì¸ ": [
    "ê¸°ê³„í•™ìŠµê°œë¡ ", "ì¸ê³µì§€ëŠ¥ìˆ˜í•™1", "ì¸ê³µì§€ëŠ¥ìˆ˜í•™2", "ë””ì§€í„¸ì‹ í˜¸ì²˜ë¦¬", "ë”¥ëŸ¬ë‹ì‹¤ìŠµ", "ë”¥ëŸ¬ë‹ê°œë¡ ",
    "ì˜ìƒì²˜ë¦¬", "ì»´í“¨í„°ê·¸ë˜í”½ìŠ¤", "ì»´í“¨í„°ë¹„ì „", "AR/VR/MR", "Human-AI Interaction"
  ],
  "ë°ì´í„° ì¸í…”ë¦¬ì „ìŠ¤": [
    "ê¸°ê³„í•™ìŠµê°œë¡ ", "ë°ì´í„°ë¶„ì„ê°œë¡ ", "ë”¥ëŸ¬ë‹ê°œë¡ ", "ë°ì´í„°ë² ì´ìŠ¤", "ì‹œê³„ì—´ë¶„ì„",
    "ë”¥ëŸ¬ë‹ì‹¤ìŠµ", "ë°ì´í„°ì‹œê°í™”", "ì„¤ëª…ê°€ëŠ¥í•œì¸ê³µì§€ëŠ¥", "ëŒ€ìš©ëŸ‰ë°ì´í„°ì²˜ë¦¬", "ë°ì´í„°ë¬¸ì œí•´ê²°ë°ì‹¤ìŠµ"
  ]
};

function TrackDetail() {
  const { trackName } = useParams();
  const navigate = useNavigate();
  const { state } = useLocation();
  const studentInfo = state?.studentInfo || {};

  const courses = trackCourses[trackName] || [];
  const [selected, setSelected] = useState([]);

  const toggleCourse = (course) => {
    setSelected((prev) =>
      prev.includes(course)
        ? prev.filter((c) => c !== course)
        : [...prev, course]
    );
  };

  const handleSubmit = () => {
    navigate(`/track/${trackName}/result`, {
      state: {
        selectedCourses: selected,
        studentInfo
      }
    });
  };

  return (
    <div className="App">
      <h2 style={{ textAlign: "left", marginBottom: "16px" }}>{trackName} ì´ìˆ˜í•œ ê³¼ëª© ì„ íƒ</h2>

      {courses.map((course, i) => (
        <div className="card" key={i} style={{ display: "flex", alignItems: "center", gap: "12px" }}>
          <input
            type="checkbox"
            checked={selected.includes(course)}
            onChange={() => toggleCourse(course)}
          />
          <span>{course}</span>
        </div>
      ))}

      <p style={{ marginTop: "20px", fontWeight: "bold" }}>
        âœ… ì„ íƒí•œ ê³¼ëª© ìˆ˜: {selected.length}ê°œ
      </p>
      {selected.length >= 6 ? (
        <p style={{ color: "green" }}>ğŸ‰ íŠ¸ë™ ì¸ì¦ ì¡°ê±´ì„ ì¶©ì¡±í–ˆìŠµë‹ˆë‹¤!</p>
      ) : (
        <p style={{ color: "#4285f4", fontWeight: "bold" }}>
          ğŸ”’ ì´ìˆ˜ìœ¨: {Math.floor((selected.length / 6) * 100)}%
        </p>
      )}

      <button className="button" style={{ marginTop: "20px" }} onClick={handleSubmit}>
        ê³¼ëª© ì„ íƒ ì™„ë£Œ
      </button>
    </div>
  );
}

export default TrackDetail;
